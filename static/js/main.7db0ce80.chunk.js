(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(76)},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(24),o=a.n(c),l=a(11),s=a(12),i=a(15),m=a(13),u=a(16),d=a(10),p=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement(d.b,{className:"dropdown-item",to:"/login"},"Login")),n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement(d.b,{className:"dropdown-item",to:"/register"},"Register")))},E=function(e){var t=e.onLogout,a=e.currentUser;return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement(d.b,{className:"dropdown-item",to:"#"},a.username)),n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement("a",{className:"dropdown-item",onClick:t},"Logout")))},g=function(e){var t=e.currentUser,a=e.onLogout;return n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light navbar-forum"},n.a.createElement("div",{className:"container"},n.a.createElement(d.b,{className:"navbar-brand",to:"/"},"LOGO"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav ml-auto"},t?n.a.createElement(E,{currentUser:t,onLogout:a}):n.a.createElement(p,null))))))},f=a(20),b=function(e){var t=e.tags,a=e.onClickTag;return t?n.a.createElement("div",{className:"col-md-3 d-none d-sm-block"},n.a.createElement("ul",{className:"list-group"},t.map(function(e){return n.a.createElement("button",{type:"button",className:"list-group-item list-group-item-action",key:e,onClick:function(){return a(e)}},"#",e)}))):n.a.createElement("div",{className:"col-md-3 "},"Loading Tags...")},v=function(e){var t=e.article;return n.a.createElement("div",{className:"card mb-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("img",{src:t.author.image,className:"mr-3 rounded-circle",width:"40px",height:"40px",alt:""}),n.a.createElement("span",{className:"text-sm text-muted"},t.author.username,","," ",n.a.createElement("b",null,new Date(t.createdAt).toDateString())),n.a.createElement(d.b,{to:"article/".concat(t.slug),className:"btn btn-info btn-xs float-right"},"Read More")),n.a.createElement("div",{className:"card-body"},n.a.createElement("h3",{className:"text-center"},t.title),n.a.createElement("p",{className:"text-center"},"".concat(t.body.substring(0,20),"..."))),n.a.createElement("div",{className:"card-footer text-muted"},n.a.createElement("button",{className:"btn btn-outline-primary"},"Vote ",t.favoritesCount),t.tagList.map(function(e){return n.a.createElement(d.b,{to:"#",className:"btn float-right btn-xs",key:e},"#",e)})))},h=function(e){var t=e.articles;return t?n.a.createElement("div",{className:"col-md-9"},t.map(function(e){return n.a.createElement(v,{article:e,key:e.slug})})):n.a.createElement("div",{className:"col-md-9"},"Loading Articles...")},N=a(14),y=a(3),O=a.n(y),w=a(18),j=a(21),S=a.n(j),L="https://conduit.productionready.io/api",T=function(e){return e.data};localStorage.getItem("token")&&(S.a.defaults.headers.common.Authorization="Token ".concat(localStorage.getItem("token")));var A=function(e){return S.a.get("".concat(L).concat(e)).then(T)},x=function(e,t){return S.a.post("".concat(L).concat(e),t).then(T)},_=function(e){return S.a.del("".concat(L).concat(e)).then(T)},C={getAll:function(){return A("/articles?limit=10")},getSlug:function(e){return A("/articles/".concat(e))},byTag:function(e){return A("/articles?limit=10&tag=".concat(e))},favorite:function(e){return x("/articles/".concat(e,"/favorite"))},unfavorite:function(e){return _("/articles/".concat(e,"/favorite"))}},k={login:function(e,t){return x("/users/login",{user:{email:e,password:t}})},signup:function(e,t,a){return x("user",{user:{username:e,email:t,password:a}})},getUser:function(){return A("/user")}},I={getAll:function(){return A("/tags")}},R=a(2),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TAGS":return Object(R.a)({},e,{tags:t.payload});default:return e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_ARTICLES":return Object(R.a)({},e,{loading:!0,articles:null});case"SET_ARTICLES":return Object(R.a)({},e,{loading:!1,articles:t.payload});case"REQUEST_ARTICLES_FAILED":return Object(R.a)({},e,{error:t.error});case"REQUEST_SINGLE_ARTICLE":return Object(R.a)({},e,{loading:!0,article:null});case"SET_SINGLE_ARTICLE":return Object(R.a)({},e,{loading:!1,article:t.payload});case"FILTER_TAG":return Object(R.a)({},e,{tag:t.tag,articles:t.payload});default:return e}},D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).onClickTag=function(e){a.props.filterTag(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.setArticles(),this.props.setTags()}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(b,{tags:this.props.tags,onClickTag:this.onClickTag}),n.a.createElement(h,{articles:this.props.articles}))}}]),t}(n.a.Component),G=Object(N.b)(function(e){return{articles:e.articles.articles,tags:e.home.tags,tag:e.articles.tag}},{setTags:function(){return function(){var e=Object(w.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getAll();case 2:a=e.sent,t({type:"SET_TAGS",payload:a.tags});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},setArticles:function(){return function(){var e=Object(w.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_ARTICLES"}),e.prev=1,e.next=4,C.getAll();case 4:a=e.sent,t({type:"SET_ARTICLES",payload:a.articles}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"REQUEST_ARTICLES_FAILED",error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},filterTag:function(e){return function(){var t=Object(w.a)(O.a.mark(function t(a){var r;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.byTag(e);case 2:r=t.sent,a({type:"FILTER_TAG",tag:e,payload:r.articles});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(D),P=a(26),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:""},a.onChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),a.props.login(a.state,a.props.history)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},"Login"),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"email",className:"col-sm-4 col-form-label text-md-right"},"E-Mail Address"),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("input",{onChange:this.onChange,type:"text",className:"form-control",value:this.state.email,name:"email",required:!0,autoFocus:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"password",className:"col-sm-4 col-form-label text-md-right"},"Password"),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("input",{onChange:this.onChange,type:"password",className:"form-control",value:this.state.password,name:"password",required:!0}))),n.a.createElement("div",{className:"form-group row mb-0"},n.a.createElement("div",{className:"col-md-8 offset-md-4"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"))))))}}]),t}(r.Component),Q=Object(N.b)(function(e){var t=e.auth;return{login:t.login,loading:t.loading,error:t.error}},{login:function(e,t){var a=e.email,r=e.password;return function(){var e=Object(w.a)(O.a.mark(function e(n){var c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"LOGIN_REQUEST"}),e.prev=1,e.next=4,k.login(a,r);case 4:c=e.sent,t.push("/"),localStorage.setItem("token",c.user.token),n({type:"LOGIN_SUCCESS",payload:c.user}),n({type:"APP_LOAD",payload:c.user}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n({type:"LOGIN_FAILED",error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()}})(M),q=function(){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},"Register"),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{method:"POST",action:"#"},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"name",className:"col-sm-4 col-form-label text-md-right"},"Name"),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("input",{id:"name",type:"text",className:"form-control is-invalid",name:"name",required:!0,autoFocus:!0}),n.a.createElement("span",{className:"invalid-feedback"},n.a.createElement("strong",null,"The name is required.")))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"email",className:"col-sm-4 col-form-label text-md-right"},"E-Mail Address"),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("input",{id:"email",type:"email",className:"form-control",name:"email",required:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"password",className:"col-sm-4 col-form-label text-md-right"},"Password"),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("input",{id:"password",type:"password",className:"form-control",name:"password",required:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"password_confirmation",className:"col-sm-4 col-form-label text-md-right"},"Confirm password"),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("input",{id:"password_confirmation",type:"password",className:"form-control",name:"password_confirmation",required:!0}))),n.a.createElement("div",{className:"form-group row mb-0"},n.a.createElement("div",{className:"col-md-8 offset-md-4"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Register"))))))},z=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(q,null)}}]),t}(r.Component),J=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.setArticle(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.article;return console.log(this.props.article),e?n.a.createElement("div",{className:"card mb-8"},n.a.createElement("div",{className:"card-header"},n.a.createElement("img",{src:e.author.image,className:"mr-3 rounded-circle",width:"40px",height:"40px",alt:""}),n.a.createElement("span",{className:"text-sm text-muted"},e.author.username,","," ",n.a.createElement("b",null,new Date(e.createdAt).toDateString()))),n.a.createElement("div",{className:"card-body"},n.a.createElement("h3",{className:"text-center"},e.title),n.a.createElement("p",{className:"text-center"},e.body)),n.a.createElement("div",{className:"card-footer text-muted"},n.a.createElement("button",{type:"button",className:"btn"},n.a.createElement("i",{className:"fas fa-heart"}),"sdfsdf"),e.tagList.map(function(e){return n.a.createElement("a",{href:"#",className:"btn float-right btn-xs",key:e},"#",e)}))):n.a.createElement("div",null,"Loading Article...")}}]),t}(n.a.Component),V=Object(N.b)(function(e){return{article:e.articles.article}},{setArticle:function(e){return function(){var t=Object(w.a)(O.a.mark(function t(a){var r;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REQUEST_SINGLE_ARTICLE"}),t.next=3,C.getSlug(e);case 3:r=t.sent,a({type:"SET_SINGLE_ARTICLE",payload:r.article});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(J),X=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a,{path:"/",exact:!0,component:G}),n.a.createElement(f.a,{path:"/login",component:Q}),n.a.createElement(f.a,{path:"/register",component:z}),n.a.createElement(f.a,{path:"/article/:id",component:V}))},B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).onLogout=function(e){e.preventDefault(),a.props.logout(a.props.history)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&this.props.getCurrentUser()}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{currentUser:this.props.currentUser,onLogout:this.onLogout}),n.a.createElement("div",{className:"my-4"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement(X,null)))))}}]),t}(r.Component),H=Object(N.b)(function(e){return{currentUser:e.auth.currentUser}},{getCurrentUser:function(){return function(){var e=Object(w.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getUser();case 2:a=e.sent,t({type:"APP_LOAD",payload:a.user});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},logout:function(e){return function(t){localStorage.removeItem("token"),e.push("/"),t({type:"LOGOUT"})}}})(B),K=a(22),W=a(45),Y=a(4),Z=a(19),$=Object(Z.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"APP_LOAD":return Object(R.a)({},e);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(R.a)({},e,{loading:!0,login:!1,error:null});case"LOGIN_SUCCESS":return Object(R.a)({},e,{loading:!1,login:!0,error:null});case"LOGIN_FAILED":return Object(R.a)({},e,{error:t.error.message});case"APP_LOAD":return Object(R.a)({},e,{currentUser:t.payload});case"LOGOUT":return Object(R.a)({},e,{currentUser:null});default:return e}},home:U,articles:F,router:K.routerReducer}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({serialize:!0})||Z.d,te=Object(Y.a)(),ae=Object(Z.e)($,ee(Object(Z.a)(W.a,Object(K.routerMiddleware)(te)))),re=Object(f.e)(H);o.a.render(n.a.createElement(N.a,{store:ae},n.a.createElement(d.a,null,n.a.createElement(re,null))),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7db0ce80.chunk.js.map